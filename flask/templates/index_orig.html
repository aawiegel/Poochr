{% extends "bootstrap/base.html" %}

{% block scripts %}
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<script>
$(function() {

  // We can attach the `fileselect` event to all file inputs on the page
  $(document).on('change', ':file', function() {
    var input = $(this),
        numFiles = input.get(0).files ? input.get(0).files.length : 1,
        label = input.val().replace(/\\/g, '/').replace(/.*\//, '');
    input.trigger('fileselect', [numFiles, label]);
  });

  // We can watch for our custom `fileselect` event like this
  $(document).ready( function() {
      $(':file').on('fileselect', function(event, numFiles, label) {

          var input = $(this).parents('.input-group').find(':text'),
              log = numFiles > 1 ? numFiles + ' files selected' : label;

          if( input.length ) {
              input.val(log);
          } else {
              if( log ) alert(log);
          }

       });
    });
});
</script>
{{super()}}

{% endblock %}
{% block title %}Poochr{% endblock %}

{% block content %}

<div class="container">
  <div class="jumbotron">
    <h1>Poochr</h1> 
    <p>Your next dog today!</p> 
  </div>
</div>
<div class = "container">
<form id='user-upload' role="form" method="POST" enctype="multipart/form-data" action="/"><!--  method="POST" enctype="multipart/form-data"-->
  <div class="form-group">
    <p><b>Upload an image of a dog:</b></p>
    <div class="input-group">
      <label for="ImageInputFile" class="input-group-btn">Choose a file
        <span class="btn btn-primary">
          Browse&hellip;
          <input type="file" id="ImageInputFile" accept="image/*" name='image' style="display: none;">
        </span>
      </label>
      <input type="text" class="form-control" readonly>
    </div>
  </div>
  <div class="form-group">
    <label class="control-label col-sm-2" for="text">Provide a description of your ideal dog:</label>
    <input type="text" class="form-control" id="desc" name='desc'>
    <div class="col-sm-10">
      <p class="form-control-static">Example: A cuddly, friendly dog who loves children, other dogs, and a good game of fetch.</p>
  </div>

  </div>
  <button type="submit" class="btn btn-primary" value='upload'>Submit</button>
</form>
</div>
<div class = "container">
{% with messages = get_flashed_messages() %}
  {% if messages %}
    {% for message in messages %}
      <br/>{{ message }}
    {% endfor %}
  {% endif %}
{% endwith %}
{% endblock %} 

